<!--
-------------------------------------------------------------------------------
# Copyright (c) 2014 Proxima Centauri SRL <info@proxima-centauri.it>.
# All rights reserved. This program and the accompanying materials
# are made available under the terms of the GNU Public License v3.0
# which accompanies this distribution, and is available at
# http://www.gnu.org/licenses/gpl.html
# 
# Contributors:
#     Proxima Centauri SRL <info@proxima-centauri.it> - initial API and implementation
#-------------------------------------------------------------------------------
-->
<div class="container-fluid">
	<div class="page-header">
		<div class="page-header">

			<h4>History/detail measure loading</h4>
			<form class="form-inline">
				<select ng-model="drain" ng-options="d.drain for d in drains | orderBy:'drain'">
					<option value="">-- choose drain --</option>
				</select> <label for="start">Start</label>
				<div id="startMeasure" class="input-append date">
					<input id="startTimeMeasure" data-format="dd/MM/yyyy hh"
						type="text" ng-model="start"></input> <span class="add-on">
						<i data-time-icon="icon-time" data-date-icon="icon-calendar">
					</i>
					</span>
				</div>


				<label for="endMeasure">End</label>
				<div id="endMeasure" class="input-append date">
					<input id="endTimeMeasure" data-format="dd/MM/yyyy hh" type="text"
						ng-model="end"></input> <span class="add-on"> <i
						data-time-icon="icon-time" data-date-icon="icon-calendar"> </i>
					</span>
				</div>

				<select ng-model="timeAggregation">
					<option value="">-- time type --</option>
					<option>MINUTE</option>
					<option>HOUR</option>
					<option>DAY</option>
					<option>MONTH</option>
					<option>YEAR</option>
				</select> <label class="checkbox"> <input type="checkbox"
					ng-model="details"> Details
				</label>
				<button type="submit" class="btn" ng-click="load();">Load</button>
				<button type="submit" class="btn" ng-click="exportCSV();">Export CSV History</button>
			</form>
		</div>
		
		<div ng-show="measure">Current value of <b>{{measure.drain}}</b> is <b> {{measure.value}} {{measure.unit}} </b></div>

		<div id="graph"></div>

	</div>
</div>
